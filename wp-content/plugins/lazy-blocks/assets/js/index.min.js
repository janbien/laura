!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=55)}({103:function(e,t,n){"use strict";n.r(t);var o=n(38),r=n.n(o),i=n(39),l=n.n(i);function a(e,t,n,o){var r,i=!1,l=0;function a(){r&&clearTimeout(r)}function c(){var c=this,s=Date.now()-l,u=arguments;function p(){l=Date.now(),n.apply(c,u)}i||(o&&!r&&p(),a(),void 0===o&&s>e?p():!0!==t&&(r=setTimeout(o?function(){r=void 0}:p,void 0===o?e-s:e)))}return"boolean"!=typeof t&&(o=n,n=t,t=void 0),c.cancel=function(){a(),i=!0},c}n(56);var c=n(52),s=n.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=wp.hooks.addFilter,y=wp.element.Component,b=wp.blocks.getBlockType,g=wp.compose.createHigherOrderComponent,v=wp.data.withSelect,w={};m("editor.BlockEdit","lazyblocks/uniqueBlockId",g(function(e){var t=function(t){function n(){var e,t,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=this;var r=(e=!(o=f(n).apply(this,arguments))||"object"!==u(o)&&"function"!=typeof o?h(t):o).props,i=r.attributes,l=r.clientId;return l&&i.blockId&&void 0===w[i.blockId]&&(w[i.blockId]=l),e.maybeCreateBlockId=e.maybeCreateBlockId.bind(h(e)),e}var o,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,y),o=n,(r=[{key:"componentDidMount",value:function(){this.maybeCreateBlockId()}},{key:"componentDidUpdate",value:function(){this.maybeCreateBlockId()}},{key:"maybeCreateBlockId",value:function(){if(this.props.blockSettings.lazyblock){var e=this.props,t=e.setAttributes,n=e.attributes,o=e.clientId,r=n.blockId;if(!r||w[r]!==o){for(var i="",l=10;!i||void 0!==w[i]&&w[i]!==o&&l>0;)i=s.a.unique(o),l--;if(i&&void 0===w[i]&&(w[i]=o),i!==r)t({blockId:i,blockUniqueClass:"".concat(this.props.name.replace("/","-"),"-").concat(i)})}}}},{key:"render",value:function(){return wp.element.createElement(e,this.props)}}])&&p(o.prototype,r),i&&p(o,i),n}();return v(function(e,t){return{blockSettings:b(t.name)}})(t)},"withUniqueBlockId"));var x=n(33),k=n.n(x),C=window.lodash.map,E=wp.i18n,S=E.__,O=E.sprintf,_=wp.components,T=_.Button,I=_.Dropdown,j=_.Tooltip,P=_.ColorPicker,R=_.Dashicon;function N(e){var t=e.colors,n=e.disableAlpha,o=void 0===n||n,r=e.disableCustomColors,i=void 0!==r&&r,l=e.value,a=e.onChange,c=e.className;function s(e){return function(){return a(l===e?void 0:e)}}var u=S("Custom color picker"),p=k()("components-color-palette",c);return wp.element.createElement("div",{className:p},C(t,function(e){var t=e.color,n=e.name,o={color:t},r=k()("components-color-palette__item",{"is-active":l===t});return wp.element.createElement("div",{key:t,className:"components-color-palette__item-wrapper"},wp.element.createElement(j,{text:n||O(S("Color code: %s"),t)},wp.element.createElement("button",{type:"button",className:r,style:o,onClick:s(t),"aria-label":n?O(S("Color: %s"),n):O(S("Color code: %s"),t),"aria-pressed":l===t})),l===t&&wp.element.createElement(R,{icon:"saved"}))}),wp.element.createElement("div",{className:"components-color-palette__custom-clear-wrapper"},!i&&wp.element.createElement(I,{className:"components-color-palette__custom-color",contentClassName:"components-color-palette__picker",renderToggle:function(e){var t=e.isOpen,n=e.onToggle;return wp.element.createElement(T,{"aria-expanded":t,onClick:n,"aria-label":u,isLink:!0},S("Custom Color"))},renderContent:function(){return wp.element.createElement(P,{color:l,onChangeComplete:function(e){var t;if(void 0===e.rgb||1===e.rgb.a)t=e.hex;else{var n=e.rgb,o=n.r,r=n.g,i=n.b,l=n.a;t="rgba(".concat(o,", ").concat(r,", ").concat(i,", ").concat(l,")")}a(t)},disableAlpha:o})}}),wp.element.createElement(T,{className:"components-color-palette__clear",type:"button",onClick:function(){return a(void 0)},isSmall:!0,isDefault:!0},S("Clear"))))}function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function A(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var B=wp.element,V=B.Component,W=B.Fragment,H=wp.components,F=H.BaseControl,U=H.ColorIndicator,q=wp.compose,K=q.withInstanceId,G=q.compose,X=wp.data.withSelect,Y=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),A(this,z(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,V),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,o=e.help,r=e.alpha,i=void 0!==r&&r,l=e.onChange,a=void 0===l?function(){}:l,c=e.colors;return wp.element.createElement(F,{label:wp.element.createElement(W,null,t,wp.element.createElement(U,{colorValue:n})),help:o,className:"lzb-gutenberg-color"},wp.element.createElement(N,{colors:c,value:n,disableAlpha:!i,onChange:function(e){a(e)}}))}}])&&M(n.prototype,o),r&&M(n,r),t}(),Z=G([K,X(function(e,t){var n=e("core/block-editor").getSettings();return{colors:void 0===t.colors?n.colors:t.colors}})])(Y);function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function $(e,t){return!t||"object"!==J(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ne=wp.i18n.__,oe=wp.element.Component,re=wp.components,ie=re.BaseControl,le=re.Button,ae=re.DropZone,ce=wp.compose.withInstanceId,se=wp.editor,ue=se.MediaPlaceholder,pe=se.mediaUpload,fe=["image"],he=ce(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$(this,ee(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(t,oe),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,o=e.help,r=e.onChange,i=void 0===r?function(){}:r;return wp.element.createElement(ie,{label:t,help:o},wp.element.createElement("div",{className:"lzb-gutenberg-image-wrap"},n&&Object.keys(n).length?"":wp.element.createElement(ue,{icon:"format-image",labels:{title:t,name:ne("image")},onSelect:function(e){i(e)},accept:"image/*",allowedTypes:fe,disableMaxUploadErrorMessages:!0,onError:function(e){console.log(e)}}),n&&Object.keys(n).length?wp.element.createElement("div",{className:"lzb-gutenberg-image"},wp.element.createElement(ae,{onFilesDrop:function(e){pe({allowedTypes:fe,filesList:e,onFileChange:function(e){i(e)},onError:function(e){console.log(e)}})}}),wp.element.createElement("div",{className:"lzb-gutenberg-image-button"},wp.element.createElement(le,{isDefault:!0,onClick:function(){i("")}},ne("Remove Image"))),wp.element.createElement("div",{className:"lzb-gutenberg-image-item",key:n.id||n.url},wp.element.createElement("img",{src:n.url,alt:n.alt}))):""))}}])&&Q(n.prototype,o),r&&Q(n,r),t}());function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ye(e,t){return!t||"object"!==de(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ve=wp.i18n.__,we=wp.element.Component,xe=wp.components,ke=xe.BaseControl,Ce=xe.Button,Ee=xe.DropZone,Se=wp.compose.withInstanceId,Oe=wp.editor,_e=Oe.MediaPlaceholder,Te=Oe.MediaUpload,Ie=Oe.mediaUpload,je=["image"],Pe=Se(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ye(this,be(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(t,we),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,o=e.help,r=e.onChange,i=void 0===r?function(){}:r;return wp.element.createElement(ke,{label:t,help:o},wp.element.createElement("div",{className:"lzb-gutenberg-gallery-wrap"},n&&Object.keys(n).length?"":wp.element.createElement(_e,{icon:"format-gallery",labels:{title:t,name:ve("images")},onSelect:function(e){i(e)},accept:"image/*",allowedTypes:je,disableMaxUploadErrorMessages:!0,multiple:!0,onError:function(e){console.log(e)}}),n&&Object.keys(n).length?wp.element.createElement(Te,{onSelect:function(e){i(e)},allowedTypes:je,multiple:!0,gallery:!0,value:n.map(function(e){return e.id}),render:function(e){var t=e.open;return wp.element.createElement("div",{className:"lzb-gutenberg-gallery",onClick:t,role:"presentation"},wp.element.createElement(Ee,{onFilesDrop:function(e){var t=n||[];Ie({allowedTypes:je,filesList:e,onFileChange:function(e){i(t.concat(e))},onError:function(e){console.log(e)}})}}),wp.element.createElement("div",{className:"lzb-gutenberg-gallery-button"},wp.element.createElement(Ce,{isDefault:!0},ve("Edit Gallery"))),n.map(function(e){return wp.element.createElement("div",{className:"lzb-gutenberg-gallery-item",key:e.id||e.url},wp.element.createElement("img",{src:e.url,alt:e.alt}))}))}}):""))}}])&&me(n.prototype,o),r&&me(n,r),t}());function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function De(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ze=wp.i18n.__,Le=wp.element.Component,Be=wp.components,Ve=Be.BaseControl,We=Be.Button,He=Be.DropZone,Fe=wp.compose.withInstanceId,Ue=wp.editor,qe=Ue.MediaPlaceholder,Ke=Ue.mediaUpload,Ge=window.lazyblocksGutenberg.allowed_mime_types,Xe=Fe(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),De(this,Me(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(t,Le),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,o=e.help,r=e.allowedMimeTypes,i=e.onChange,l=void 0===i?function(){}:i,a=[];return r&&r.forEach(function(e){Ge[e]&&a.push(Ge[e])}),wp.element.createElement(Ve,{label:t,help:o},wp.element.createElement("div",{className:"lzb-gutenberg-file-wrap"},n&&Object.keys(n).length?"":wp.element.createElement(qe,{icon:"media-default",labels:{title:t,name:ze("file")},onSelect:function(e){l(e)},allowedTypes:a,disableMaxUploadErrorMessages:!0,onError:function(e){console.log(e)}}),n&&Object.keys(n).length?wp.element.createElement("div",{className:"lzb-gutenberg-file"},wp.element.createElement(He,{onFilesDrop:function(e){Ke({allowedTypes:a,filesList:e,onFileChange:function(e){l(e)},onError:function(e){console.log(e)}})}}),wp.element.createElement("div",{className:"lzb-gutenberg-file-item",key:n.id||n.url},wp.element.createElement("div",{className:"lzb-gutenberg-file-item-icon"},wp.element.createElement("span",{className:"dashicons dashicons-media-default"})),wp.element.createElement("div",{className:"lzb-gutenberg-file-item-content"},wp.element.createElement("div",{className:"lzb-gutenberg-file-item-content-title"},n.title),wp.element.createElement("div",{className:"lzb-gutenberg-file-item-content-filename"},n.url.replace(/^.*[\\\/]/,"")))),wp.element.createElement("div",{className:"lzb-gutenberg-file-button"},wp.element.createElement(We,{isDefault:!0,onClick:function(){l("")}},ze("Remove File")))):""))}}])&&Ne(n.prototype,o),r&&Ne(n,r),t}()),Ye=n(24);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Qe(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var nt=wp.i18n.__,ot=wp.element.Component,rt=wp.components,it=rt.BaseControl,lt=rt.Button,at=rt.Tooltip,ct=rt.ToggleControl,st=wp.compose.withInstanceId,ut=Object(Ye.SortableHandle)(function(){return wp.element.createElement(lt,{className:"lzb-gutenberg-repeater-btn-drag",onClick:function(e){e.stopPropagation()},role:"button"},wp.element.createElement("span",{className:"dashicons dashicons-menu"}))}),pt=Object(Ye.SortableElement)(function(e){return wp.element.createElement("div",{className:"lzb-gutenberg-repeater-item"},wp.element.createElement("button",{className:"lzb-gutenberg-repeater-btn"+(e.active?" lzb-gutenberg-repeater-btn-active":""),onClick:e.onToggle},e.title,wp.element.createElement(ut,null),wp.element.createElement("span",{className:"lzb-gutenberg-repeater-btn-arrow dashicons dashicons-arrow-right-alt2"})),wp.element.createElement("button",{className:"lzb-gutenberg-repeater-btn-remove",onClick:e.onRemove},wp.element.createElement("span",{className:"dashicons dashicons-no-alt"})),e.active?e.renderContent():"")}),ft=Object(Ye.SortableContainer)(function(e){var t=e.items;return wp.element.createElement("div",{className:"lzb-gutenberg-repeater-items"},t.map(function(e,t){return wp.element.createElement(pt,tt({key:"repeater-item-".concat(t),index:t},e))}))}),ht=st(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Qe(this,$e(t).apply(this,arguments))).sortRef=wp.element.createRef(),e.state={activeItem:-1},e}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(t,ot),n=t,(o=[{key:"render",value:function(){for(var e=this,t=this.props,n=t.label,o=t.count,r=void 0===o?1:o,i=t.renderRow,l=void 0===i?function(){}:i,a=t.addRow,c=void 0===a?function(){}:a,s=t.removeRow,u=void 0===s?function(){}:s,p=t.resortRow,f=void 0===p?function(){}:p,h=[],d=function(t){var n=-2===e.state.activeItem||e.state.activeItem===t;h.push({title:"Row ".concat(t+1),active:n,onToggle:function(o){o.preventDefault(),o.stopPropagation(),e.setState({activeItem:n?-1:t})},onRemove:function(e){e.preventDefault(),e.stopPropagation(),u(t)},renderContent:function(){return wp.element.createElement("div",{className:"lzb-gutenberg-repeater-item-content"},l(t))}})},m=0;m<r;m++)d(m);return wp.element.createElement(it,{label:n},wp.element.createElement("div",{className:"lzb-gutenberg-repeater"},h.length?wp.element.createElement(ft,{ref:this.sortRef,items:h,onSortEnd:function(t){var n=t.oldIndex,o=t.newIndex;f(n,o),e.state.activeItem>-1&&e.setState({activeItem:o})},useDragHandle:!0,helperContainer:function(){return e.sortRef&&e.sortRef.current&&e.sortRef.current.container?e.sortRef.current.container:document.body}}):"",wp.element.createElement("div",{className:"lzb-gutenberg-repeater-options"},wp.element.createElement(lt,{isDefault:!0,onClick:function(){c()}},nt("+ Add Row")),h.length&&h.length>1?wp.element.createElement(at,{text:nt("Toggle all rows")},wp.element.createElement("div",null,wp.element.createElement(ct,{checked:-2===this.state.activeItem,onChange:function(){e.setState({activeItem:-2===e.state.activeItem?-1:-2})}}))):"")))}}])&&Je(n.prototype,o),r&&Je(n,r),t}()),dt=n(53),mt=n.n(dt);function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){gt(e,t,n[t])})}return e}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function wt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t){return(kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ct=wp.components.Spinner,Et=wp.element,St=Et.Component,Ot=Et.RawHTML,_t=Et.Fragment,Tt=wp.i18n,It=Tt.__,jt=Tt.sprintf,Pt=wp.apiFetch,Rt=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=wt(this,xt(t).call(this,e))).state={response:null,previousResponse:null,allowRender:!0},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kt(e,t)}(t,St),n=t,(o=[{key:"componentDidMount",value:function(){var e,t,n;this.isStillMounted=!0,this.fetch(this.props),this.fetch=(e=500,t=this.fetch,void 0===n?a(e,t,!1):a(e,n,!1!==t))}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"componentDidUpdate",value:function(e){this.state.allowRender&&!mt()(e,this.props)&&this.fetch(this.props)}},{key:"fetch",value:function(e){var t=this;if(this.isStillMounted){null!==this.state.response&&this.setState({response:null});var n=e.block,o=e.attributes,r=void 0===o?null:o,i=e.urlQueryArgs,l=void 0===i?{}:i,a=this.currentFetchRequest=Pt({path:"lazy-blocks/v1/block-render",method:"POST",data:bt({context:"editor",name:n},null!==r?{attributes:r}:{},l)}).then(function(e){t.isStillMounted&&a===t.currentFetchRequest&&(e&&e.success?t.setState({response:e.response,previousResponse:e.response}):e&&!e.success&&e.error_code&&("lazy_block_invalid"===e.error_code?t.setState({response:null,previousResponse:null}):"lazy_block_no_render_callback"===e.error_code&&t.setState({response:null,previousResponse:null,allowRender:!1})))}).catch(function(e){t.isStillMounted&&a===t.currentFetchRequest&&t.setState({response:{error:!0,response:e}})});return a}}},{key:"render",value:function(){var e=this.state,t=e.response,n=e.previousResponse,o="";if(this.state.allowRender)if(null===t)o=wp.element.createElement(_t,null,n?wp.element.createElement(Ot,{key:"html"},n):"",wp.element.createElement(Ct,null));else if(t.error){o=jt(It("Error loading block preview: %s"),t.response)}else o=wp.element.createElement(Ot,{key:"html"},t);else o="";return wp.element.createElement("div",{className:"lzb-preview-server"},o)}}])&&vt(n.prototype,o),r&&vt(n,r),t}();function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Mt(e){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function At(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lt=window.lazyblocksGutenberg;Lt&&Lt.blocks&&Lt.blocks.length||(Lt={post_type:"post",blocks:[]});var Bt=wp.i18n.__,Vt=wp.element,Wt=Vt.Component,Ht=Vt.Fragment,Ft=wp.components,Ut=Ft.PanelBody,qt=Ft.BaseControl,Kt=Ft.TextControl,Gt=Ft.TextareaControl,Xt=Ft.ToggleControl,Yt=Ft.CheckboxControl,Zt=Ft.RadioControl,Jt=Ft.RangeControl,Qt=Ft.SelectControl,$t=Ft.Dashicon,en=Ft.IconButton,tn=Ft.DatePicker,nn=Ft.TimePicker,on=Ft.Notice,rn=wp.editor,ln=rn.URLInput,an=rn.InspectorControls,cn=rn.RichText,sn=rn.InnerBlocks,un=rn.PlainText,pn=wp.blocks.registerBlockType,fn=wp.data,hn=fn.withSelect,dn=fn.withDispatch,mn=wp.compose.compose,yn=wp.date.__experimentalGetSettings;Lt.blocks.forEach(function(e){var t=function(t){function n(){var e,t,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t=this,(e=!(o=Mt(n).apply(this,arguments))||"object"!==Nt(o)&&"function"!=typeof o?At(t):o).isControlValueValid=e.isControlValueValid.bind(At(e)),e.maybeLockPostSaving=a(500,e.maybeLockPostSaving.bind(At(e))),e.getControlValue=e.getControlValue.bind(At(e)),e.onControlChange=e.onControlChange.bind(At(e)),e.onSelectImages=e.onSelectImages.bind(At(e)),e.onSelectImage=e.onSelectImage.bind(At(e)),e.renderControls=e.renderControls.bind(At(e)),e}var o,i,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(n,Wt),o=n,(i=[{key:"componentDidMount",value:function(){this.maybeLockPostSaving()}},{key:"componentDidUpdate",value:function(){this.maybeLockPostSaving()}},{key:"isControlValueValid",value:function(e,t){var n=!1;switch(t.type){case"select":case"radio":n="true"===t.allow_null||""!==e&&void 0!==e;break;default:n=""!==e&&void 0!==e}return n}},{key:"maybeLockPostSaving",value:function(){var t=this,n=0,o=!1;Object.keys(e.controls).forEach(function(r){var i=e.controls[r];if(i.required&&"true"===i.required){o=!0;var l=t.getControlValue(i);t.isControlValueValid(l,i)||(n+=1)}}),o&&(n>0?this.props.lockPostSaving():this.props.unlockPostSaving())}},{key:"getControlValue",value:function(t,n){var o=this.props.attributes[t.name];if(t.child_of&&e.controls[t.child_of]&&n>-1){var r=this.getControlValue(e.controls[t.child_of]);r&&void 0!==r[n]&&void 0!==r[n][t.name]&&(o=r[n][t.name])}if("string"==typeof o&&("repeater"===t.type||"image"===t.type||"gallery"===t.type||"file"===t.type))try{o=JSON.parse(decodeURI(o))}catch(e){o=[]}return o}},{key:"onControlChange",value:function(t,n,o){var r=this.props.setAttributes,i=n.name;if(n.child_of&&e.controls[n.child_of]&&o>-1){var l=this.getControlValue(e.controls[n.child_of]);l&&void 0!==l[o]&&(l[o][n.name]=t,t=l),i=(n=e.controls[n.child_of]).name}"number"!==n.type&&"range"!==n.type||(t=parseFloat(t));var a={};a[i]=t,"object"!==Nt(t)&&!Array.isArray(t)||"repeater"!==n.type&&"image"!==n.type&&"gallery"!==n.type&&"file"!==n.type||(a[i]=encodeURI(JSON.stringify(a[i]))),r(a)}},{key:"onSelectImages",value:function(e,t,n){var o=e.map(function(e){return{alt:e.alt||"",title:e.title||"",caption:e.caption||"",id:e.id||"",link:e.link||"",url:e.url||""}});this.onControlChange(o,t,n)}},{key:"onSelectImage",value:function(e,t,n){var o=e?{alt:e.alt||"",title:e.title||"",caption:e.caption||"",id:e.id||"",link:e.link||"",url:e.url||""}:"";this.onControlChange(o,t,n)}},{key:"onSelectFile",value:function(e,t,n){var o=e?{alt:e.alt||"",title:e.title||"",caption:e.caption||"",id:e.id||"",link:e.link||"",url:e.url||""}:"";this.onControlChange(o,t,n)}},{key:"renderControls",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=[];return Object.keys(e.controls).forEach(function(a){var c=e.controls[a],s=c.type&&"nowhere"!==c.placement&&("both"===c.placement||c.placement===t),u=c.label;if("inner_blocks"===c.type&&(s="content"===t),"content"===t&&c.hide_if_not_selected&&"true"===c.hide_if_not_selected&&(s=n.props.isLazyBlockSelected),c.required&&"true"===c.required&&(u=wp.element.createElement(Ht,null,u,wp.element.createElement("span",{className:"required"},"*"))),!o&&!c.child_of&&s||o&&c.child_of===o){switch(c.type){case"text":case"number":case"email":case"password":i.push(wp.element.createElement(Kt,{key:c.name,label:u,type:c.type,min:c.min,max:c.max,step:c.step,help:c.help,placeholder:c.placeholder,value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)}}));break;case"range":i.push(wp.element.createElement(Jt,{key:c.name,label:u,min:c.min,max:c.max,step:c.step,help:c.help,value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)}}));break;case"url":i.push(wp.element.createElement(qt,{key:c.name,label:u,help:c.help},wp.element.createElement("form",{className:"lzb-gutenberg-url",onSubmit:function(e){return e.preventDefault()}},wp.element.createElement(ln,{value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)},autoFocus:!1}),wp.element.createElement($t,{icon:"admin-links"}),wp.element.createElement(en,{icon:"editor-break",label:"Apply",type:"submit"}))));break;case"textarea":i.push(wp.element.createElement(Gt,{key:c.name,label:u,value:n.getControlValue(c,r),help:c.help,placeholder:c.placeholder,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"rich_text":i.push(wp.element.createElement(qt,{key:c.name,label:u,help:c.help,className:"lzb-gutenberg-rich-text"},wp.element.createElement(cn,{value:n.getControlValue(c,r),format:"string",multiline:"true"===c.multiline&&"p",inlineToolbar:!0,onChange:function(e){n.onControlChange(e,c,r)}})));break;case"code_editor":i.push(wp.element.createElement(qt,{key:c.name,label:u,help:c.help,className:"wp-block-html"},wp.element.createElement(un,{value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)}})));break;case"inner_blocks":i.push(wp.element.createElement(qt,{key:c.name,label:u},wp.element.createElement(sn,null)));break;case"select":i.push(wp.element.createElement(Qt,{key:c.name,label:u,options:c.choices,multiple:"true"===c.multiple,value:n.getControlValue(c,r),help:c.help,onChange:function(e){c.allow_null&&"true"===c.allow_null&&"null"===e&&(e=null),n.onControlChange(e,c,r)}}));break;case"radio":i.push(wp.element.createElement(Zt,{key:c.name,label:u,help:c.help,selected:n.getControlValue(c,r),options:c.choices,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"toggle":i.push(wp.element.createElement(Xt,{key:c.name,label:u,checked:!!n.getControlValue(c,r),help:c.help,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"checkbox":i.push(wp.element.createElement(Yt,{key:c.name,label:u,checked:!!n.getControlValue(c,r),help:c.help,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"image":i.push(wp.element.createElement(he,{key:c.name,label:u,value:n.getControlValue(c,r),help:c.help,onChange:function(e){n.onSelectImage(e,c,r)}}));break;case"gallery":i.push(wp.element.createElement(Pe,{key:c.name,label:u,value:n.getControlValue(c,r),help:c.help,onChange:function(e){n.onSelectImages(e,c,r)}}));break;case"file":i.push(wp.element.createElement(Xe,{key:c.name,label:u,value:n.getControlValue(c,r),help:c.help,allowedMimeTypes:c.allowed_mime_types,onChange:function(e){n.onSelectFile(e,c,r)}}));break;case"color":i.push(wp.element.createElement(Z,{key:c.name,label:u,value:n.getControlValue(c,r),help:c.help,alpha:"true"===c.alpha,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"date_time":var p=yn(),f=/a(?!\\)/i.test(p.formats.time.toLowerCase().replace(/\\\\/g,"").split("").reverse().join(""));i.push(wp.element.createElement(qt,{key:c.name,label:u,help:c.help},/date/.test(c.date_time_picker)?wp.element.createElement(tn,{currentDate:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)},locale:p.l10n.locale}):"",/time/.test(c.date_time_picker)?wp.element.createElement(nn,{currentTime:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)},is12Hour:f}):""));break;case"repeater":var h=n.getControlValue(c,r);i.push(wp.element.createElement(ht,{key:c.name,label:u,count:h.length,renderRow:function(e){return wp.element.createElement(Ht,null,n.renderControls(t,a,e))},removeRow:function(e){e>-1&&(h.splice(e,1),n.onControlChange(h,c,r))},addRow:function(){h.push({}),n.onControlChange(h,c,r)},resortRow:function(e,t){var o=l()(h,e,t);n.onControlChange(o,c,r)}}))}if(c.required&&"true"===c.required){var d=n.getControlValue(c,r);n.isControlValueValid(d,c)||i.push(wp.element.createElement(on,{key:"notice-".concat(c.name),status:"warning",isDismissible:!1},Bt("This field is required")))}}}),"inspector"===t&&i.length&&(i=wp.element.createElement(Ut,null,i)),i}},{key:"render",value:function(){var t=this,n=this.props.className,o=void 0===n?"":n,i=this.props.attributes.blockUniqueClass,l=void 0===i?"":i;o=r()("lazyblock",l,o);var a={};Object.keys(e.controls).forEach(function(n){e.controls[n].child_of||(a[e.controls[n].name]=t.getControlValue(e.controls[n]))});["lazyblock","className","align","anchor","blockId","blockUniqueClass"].forEach(function(e){a[e]=t.props.attributes[e]});var c=!0;switch(e.code.show_preview){case"selected":c=this.props.isLazyBlockSelected;break;case"unselected":c=!this.props.isLazyBlockSelected;break;case"never":c=!1}return wp.element.createElement(Ht,null,wp.element.createElement(an,null,wp.element.createElement("div",{className:"lzb-inspector-controls"},this.renderControls("inspector"))),wp.element.createElement("div",{className:o},wp.element.createElement("div",{className:"lzb-content-title"},e.icon?wp.element.createElement("span",{className:e.icon}):"",wp.element.createElement("h6",null,e.title)),wp.element.createElement("div",{className:"lzb-content-controls"},this.renderControls("content")),c?wp.element.createElement(Rt,{block:e.slug,attributes:a}):""))}}])&&Dt(o.prototype,i),c&&Dt(o,c),n}(),n=mn([hn(function(e,t){var n=e("core/editor").hasSelectedInnerBlock;return{isLazyBlockSelected:t.isSelected||n(t.clientId)}}),dn(function(e,t){var n=e("core/editor"),o=n.lockPostSaving,r=n.unlockPostSaving;return{lockPostSaving:function(){o("lazyblock-".concat(t.clientId))},unlockPostSaving:function(){r("lazyblock-".concat(t.clientId))}}})])(t);if(e.supports.inserter&&e.condition.length){var o=!0;e.condition.forEach(function(e){e===Lt.post_type&&(o=!1)}),e.supports.inserter=!o}pn(e.slug,{title:e.title,description:e.description,icon:e.icon.replace(/^dashicons dashicons-/,""),category:e.category,keywords:e.keywords,supports:e.supports,lazyblock:!0,edit:n,save:function(){var t=null;return Object.keys(e.controls).forEach(function(n){"inner_blocks"===e.controls[n].type&&(t=wp.element.createElement(sn.Content,null))}),t}})})},15:function(e,t,n){e.exports=n(34)()},2:function(e,t){e.exports=React},21:function(e,t){e.exports=ReactDOM},24:function(e,t,n){!function(e,t,n,o){"use strict";function r(e,t){return e(t={exports:{}},t.exports),t.exports}n=n&&n.hasOwnProperty("default")?n.default:n;var i=r(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.apply(this,arguments)}e.exports=t}),l=function(e){if(Array.isArray(e))return e},a=function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(o=(l=a.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n},c=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(e,t){return l(e)||a(e,t)||c()},u=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},p=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){u(e,t,n[t])})}return e},f=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var d=function(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e},m=r(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(o){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(o)}e.exports=n}),y=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},b=function(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?y(e):t},g=r(function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t}),v=r(function(e){function t(n,o){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,o)}e.exports=t}),w=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)},x=function(e,t,n,o,r,i,l,a){if(void 0===t)throw new Error("invariant requires an error message argument");if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,o,r,i,l,a],u=0;(c=new Error(t.replace(/%s/g,function(){return s[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},k=function(){function e(){f(this,e),u(this,"refs",{})}return d(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find(function(t){var n=t.node;return n.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(C)}}]),e}();function C(e,t){var n=e.node.sortableInfo.index,o=t.node.sortableInfo.index;return n-o}var E=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}},S=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)},O=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")},_=function(e){return E(e)||S(e)||O()};function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Object.keys(e).reduce(function(t,o){return-1===n.indexOf(o)&&(t[o]=e[o]),t},{})}var I={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},j=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function P(e,t){Object.keys(t).forEach(function(n){e.style[n]=t[n]})}function R(e,t){e.style["".concat(j,"Transform")]=null==t?"":"translate3d(".concat(t.x,"px,").concat(t.y,"px,0)")}function N(e,t){e.style["".concat(j,"TransitionDuration")]=null==t?"":"".concat(t,"ms")}function D(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function M(e,t,n){return Math.max(e,Math.min(n,t))}function A(e){return"px"===e.substr(-2)?parseFloat(e):0}function z(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function L(e,t){var n=e.getBoundingClientRect();return{top:n.top+t.top,left:n.left+t.left}}function B(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{left:0,top:0};if(e){var o={left:n.left+e.offsetLeft,top:n.top+e.offsetTop};return e.parentNode===t?o:V(e.parentNode,t,o)}}function W(e){var t=e.lockOffset,n=e.width,o=e.height,r=t,i=t,l="px";if("string"==typeof t){var a=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);x(null!==a,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),r=parseFloat(t),i=parseFloat(t),l=a[1]}return x(isFinite(r)&&isFinite(i),"lockOffset value should be a finite. Given %s",t),"%"===l&&(r=r*n/100,i=i*o/100),{x:r,y:i}}function H(e){return e instanceof HTMLElement?function(e){var t=window.getComputedStyle(e),n=/(auto|scroll)/;return["overflow","overflowX","overflowY"].find(function(e){return n.test(t[e])})}(e)?e:H(e.parentNode):null}var F={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},U={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function q(e){var n,r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return r=n=function(n){function r(){return f(this,r),b(this,g(r).apply(this,arguments))}return w(r,n),d(r,[{key:"componentDidMount",value:function(){var e=o.findDOMNode(this);e.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return x(l.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var n=l.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:n},this.props))}}]),r}(t.Component),u(n,"displayName",z("sortableHandle",e)),r}function K(e){return null!=e.sortableHandle}var G=function(){function e(t,n){f(this,e),this.container=t,this.onScrollCallback=n}return d(e,[{key:"clear",value:function(){clearInterval(this.interval),this.interval=null}},{key:"update",value:function(e){var t=this,n=e.translate,o=e.minTranslate,r=e.maxTranslate,i=e.width,l=e.height,a={x:0,y:0},c={x:1,y:1},s={x:10,y:10},u=this.container,p=u.scrollTop,f=u.scrollLeft,h=u.scrollHeight,d=u.scrollWidth,m=u.clientHeight,y=u.clientWidth,b=0===p,g=h-p-m==0,v=0===f,w=d-f-y==0;n.y>=r.y-l/2&&!g?(a.y=1,c.y=s.y*Math.abs((r.y-l/2-n.y)/l)):n.x>=r.x-i/2&&!w?(a.x=1,c.x=s.x*Math.abs((r.x-i/2-n.x)/i)):n.y<=o.y+l/2&&!b?(a.y=-1,c.y=s.y*Math.abs((n.y-l/2-o.y)/l)):n.x<=o.x+i/2&&!v&&(a.x=-1,c.x=s.x*Math.abs((n.x-i/2-o.x)/i)),this.interval&&(this.clear(),this.isAutoScrolling=!1),0===a.x&&0===a.y||(this.interval=setInterval(function(){t.isAutoScrolling=!0;var e={left:c.x*a.x,top:c.y*a.y};t.container.scrollTop+=e.top,t.container.scrollLeft+=e.left,t.onScrollCallback(e)},5))}}]),e}(),X={axis:n.oneOf(["x","y","xy"]),contentWindow:n.any,disableAutoscroll:n.bool,distance:n.number,getContainer:n.func,getHelperDimensions:n.func,helperClass:n.string,helperContainer:n.oneOfType([n.func,"undefined"==typeof HTMLElement?n.any:n.instanceOf(HTMLElement)]),hideSortableGhost:n.bool,keyboardSortingTransitionDuration:n.number,lockAxis:n.string,lockOffset:n.oneOfType([n.number,n.string,n.arrayOf(n.oneOfType([n.number,n.string]))]),lockToContainerEdges:n.bool,onSortEnd:n.func,onSortMove:n.func,onSortOver:n.func,onSortStart:n.func,pressDelay:n.number,pressThreshold:n.number,shouldCancelStart:n.func,transitionDuration:n.number,updateBeforeSortStart:n.func,useDragHandle:n.bool,useWindowAsScrollContainer:n.bool},Y={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:function(e){var t=e.node;return{height:t.offsetHeight,width:t.offsetWidth}},hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,shouldCancelStart:function(e){return-1!==[U.Input,U.Textarea,U.Select,U.Option,U.Button].indexOf(e.target.tagName)||!!D(e.target,function(e){return"true"===e.contentEditable})},transitionDuration:300,useWindowAsScrollContainer:!1},Z=Object.keys(X);function J(e){var r,l,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return l=r=function(n){function r(e){var t;return f(this,r),t=b(this,g(r).call(this,e)),u(y(y(t)),"handleStart",function(e){var n=t.props,o=n.distance,r=n.shouldCancelStart;if(2!==e.button&&!r(e)){t.touched=!0,t.position=B(e);var i=D(e.target,function(e){return null!=e.sortableInfo});if(i&&i.sortableInfo&&t.nodeIsChild(i)&&!t.state.sorting){var l=t.props.useDragHandle,a=i.sortableInfo,c=a.index,s=a.collection,u=a.disabled;if(u)return;if(l&&!D(e.target,K))return;t.manager.active={collection:s,index:c},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||e.target.tagName!==U.Anchor||e.preventDefault(),o||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}}}),u(y(y(t)),"nodeIsChild",function(e){return e.sortableInfo.manager===t.manager}),u(y(y(t)),"handleMove",function(e){var n=t.props,o=n.distance,r=n.pressThreshold;if(!t.state.sorting&&t.touched&&!t._awaitingUpdateBeforeSortStart){var i=B(e),l={x:t.position.x-i.x,y:t.position.y-i.y},a=Math.abs(l.x)+Math.abs(l.y);t.delta=l,o||r&&!(a>=r)?o&&a>=o&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}}),u(y(y(t)),"handleEnd",function(){t.touched=!1,t.cancel()}),u(y(y(t)),"cancel",function(){var e=t.props.distance,n=t.state.sorting;n||(e||clearTimeout(t.pressTimer),t.manager.active=null)}),u(y(y(t)),"handlePress",function(e){try{var n=t.manager.getActive(),o=function(){if(n){var o=function(){var n,o,r,s,y,b,g=h.sortableInfo.index,v=(n=h,{bottom:A((o=window.getComputedStyle(n)).marginBottom),left:A(o.marginLeft),right:A(o.marginRight),top:A(o.marginTop)}),w=t.scrollContainer.getBoundingClientRect(),x=l({collection:d,index:g,node:h});if(t.node=h,t.margin=v,t.width=x.width,t.height=x.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=h.getBoundingClientRect(),t.containerBoundingRect=w,t.index=g,t.newIndex=g,t.axis={x:i.indexOf("x")>=0,y:i.indexOf("y")>=0},t.offsetEdge=V(h,t.container),t.initialOffset=B(m?p({},e,{pageX:t.boundingClientRect.left,pageY:t.boundingClientRect.top}):e),t.initialScroll={left:t.scrollContainer.scrollLeft,top:t.scrollContainer.scrollTop},t.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},t.helper=t.helperContainer.appendChild((s="input, textarea, select, canvas, [contenteditable]",y=(r=h).querySelectorAll(s),b=r.cloneNode(!0),_(b.querySelectorAll(s)).forEach(function(e,t){"file"!==e.type&&(e.value=y[t].value),"radio"===e.type&&e.name&&(e.name="__sortableClone__".concat(e.name)),e.tagName===U.Canvas&&y[t].width>0&&y[t].height>0&&e.getContext("2d").drawImage(y[t],0,0)}),b)),P(t.helper,{boxSizing:"border-box",height:"".concat(t.height,"px"),left:"".concat(t.boundingClientRect.left-v.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(t.boundingClientRect.top-v.top,"px"),width:"".concat(t.width,"px")}),m&&t.helper.focus(),c&&(t.sortableGhost=h,P(h,{opacity:0,visibility:"hidden"})),t.minTranslate={},t.maxTranslate={},m){var k=f?{top:0,left:0,width:t.contentWindow.innerWidth,height:t.contentWindow.innerHeight}:t.containerBoundingRect,C=k.top,E=k.left,S=k.width,O=k.height,T=C+O,j=E+S;t.axis.x&&(t.minTranslate.x=E-t.boundingClientRect.left,t.maxTranslate.x=j-(t.boundingClientRect.left+t.width)),t.axis.y&&(t.minTranslate.y=C-t.boundingClientRect.top,t.maxTranslate.y=T-(t.boundingClientRect.top+t.height))}else t.axis.x&&(t.minTranslate.x=(f?0:w.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(f?t.contentWindow.innerWidth:w.left+w.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(f?0:w.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(f?t.contentWindow.innerHeight:w.top+w.height)-t.boundingClientRect.top-t.height/2);a&&a.split(" ").forEach(function(e){return t.helper.classList.add(e)}),t.listenerNode=e.touches?h:t.contentWindow,m?(t.listenerNode.addEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.addEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.addEventListener("keydown",t.handleKeyDown)):(I.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),I.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)})),t.setState({sorting:!0,sortingIndex:g}),u&&u({node:h,index:g,collection:d,isKeySorting:m},e),m&&t.keyMove(0)},r=t.props,i=r.axis,l=r.getHelperDimensions,a=r.helperClass,c=r.hideSortableGhost,s=r.updateBeforeSortStart,u=r.onSortStart,f=r.useWindowAsScrollContainer,h=n.node,d=n.collection,m=t.manager.isKeySorting,y=function(){if("function"==typeof s){t._awaitingUpdateBeforeSortStart=!0;var n=function(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}(function(){var t=h.sortableInfo.index;return Promise.resolve(s({collection:d,index:t,node:h,isKeySorting:m},e)).then(function(){})},function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n});if(n&&n.then)return n.then(function(){})}}();return y&&y.then?y.then(o):o()}}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}),u(y(y(t)),"handleSortMove",function(e){var n=t.props.onSortMove;"function"==typeof e.preventDefault&&e.preventDefault(),t.updateHelperPosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)}),u(y(y(t)),"handleSortEnd",function(e){var n=t.props,o=n.hideSortableGhost,r=n.onSortEnd,i=t.manager,l=i.active.collection,a=i.isKeySorting,c=t.manager.refs[l];t.listenerNode&&(a?(t.listenerNode.removeEventListener("wheel",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("mousedown",t.handleKeyEnd,!0),t.listenerNode.removeEventListener("keydown",t.handleKeyDown)):(I.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),I.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)}))),t.helper.parentNode.removeChild(t.helper),o&&t.sortableGhost&&P(t.sortableGhost,{opacity:"",visibility:""});for(var s=0,u=c.length;s<u;s++){var p=c[s],f=p.node;p.edgeOffset=null,p.boundingClientRect=null,R(f,null),N(f,null),p.translate=null}t.autoScroller.clear(),t.manager.active=null,t.manager.isKeySorting=!1,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({collection:l,newIndex:t.newIndex,oldIndex:t.index,isKeySorting:a},e),t.touched=!1}),u(y(y(t)),"autoscroll",function(){var e=t.props.disableAutoscroll,n=t.manager.isKeySorting;if(!e){if(n){var o=p({},t.translate),r=0,i=0;return t.axis.x&&(o.x=Math.min(t.maxTranslate.x,Math.max(t.minTranslate.x,t.translate.x)),r=t.translate.x-o.x),t.axis.y&&(o.y=Math.min(t.maxTranslate.y,Math.max(t.minTranslate.y,t.translate.y)),i=t.translate.y-o.y),t.translate=o,R(t.helper,t.translate),t.scrollContainer.scrollLeft+=r,void(t.scrollContainer.scrollTop+=i)}t.autoScroller.update({height:t.height,maxTranslate:t.maxTranslate,minTranslate:t.minTranslate,translate:t.translate,width:t.width})}}),u(y(y(t)),"onAutoScroll",function(e){t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()}),u(y(y(t)),"handleKeyDown",function(e){var n=e.keyCode,o=t.props.shouldCancelStart;if((!t.manager.active||t.manager.isKeySorting)&&(t.manager.active||n===F.SPACE&&!o(e)&&t.isValidSortingTarget(e)))switch(e.stopPropagation(),e.preventDefault(),n){case F.SPACE:t.manager.active?t.keyDrop(e):t.keyLift(e);break;case F.DOWN:case F.RIGHT:t.keyMove(1);break;case F.UP:case F.LEFT:t.keyMove(-1);break;case F.ESC:t.newIndex=t.manager.active.index,t.keyDrop(e)}}),u(y(y(t)),"keyLift",function(e){var n=e.target,o=D(n,function(e){return null!=e.sortableInfo}),r=o.sortableInfo,i=r.index,l=r.collection;t.initialFocusedNode=n,t.manager.isKeySorting=!0,t.manager.active={index:i,collection:l},t.handlePress(e)}),u(y(y(t)),"keyMove",function(e){var n=t.manager.getOrderedRefs(),o=n[n.length-1].node.sortableInfo.index,r=t.newIndex+e,i=t.newIndex;if(!(r<0||r>o)){t.prevIndex=i,t.newIndex=r;var l=function(e,t,n){return e<n&&e>t?e-1:e>n&&e<t?e+1:e}(t.newIndex,t.prevIndex,t.index),a=n.find(function(e){var t=e.node;return t.sortableInfo.index===l}),c=a.node,s=t.containerScrollDelta,u=a.boundingClientRect||L(c,s),p=a.translate||{x:0,y:0},f={top:u.top+p.y-s.top,left:u.left+p.x-s.left},h=i<r,d={x:h&&t.axis.x?c.offsetWidth-t.width:0,y:h&&t.axis.y?c.offsetHeight-t.height:0};t.handleSortMove({pageX:f.left+d.x,pageY:f.top+d.y,ignoreTransition:0===e})}}),u(y(y(t)),"keyDrop",function(e){t.handleSortEnd(e),t.initialFocusedNode&&t.initialFocusedNode.focus()}),u(y(y(t)),"handleKeyEnd",function(e){t.manager.active&&t.keyDrop(e)}),u(y(y(t)),"isValidSortingTarget",function(e){var n=t.props.useDragHandle,o=e.target,r=D(o,function(e){return null!=e.sortableInfo});return r&&r.sortableInfo&&!r.sortableInfo.disabled&&(n?K(o):o.sortableInfo)}),function(e){x(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}(e),t.state={},t.manager=new k,t.events={end:t.handleEnd,move:t.handleMove,start:t.handleStart},t}return w(r,n),d(r,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then(function(n){e.container=n,e.document=e.container.ownerDocument||document;var o=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof o?o():o,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:H(e.container)||e.container,e.autoScroller=new G(e.scrollContainer,e.onAutoScroll),Object.keys(e.events).forEach(function(t){return I[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})}),e.container.addEventListener("keydown",e.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var e=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(t){return I[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(e){var t=this.props,n=t.lockAxis,o=t.lockOffset,r=t.lockToContainerEdges,i=t.transitionDuration,l=t.keyboardSortingTransitionDuration,a=void 0===l?i:l,c=this.manager.isKeySorting,u=e.ignoreTransition,p=B(e),f={x:p.x-this.initialOffset.x,y:p.y-this.initialOffset.y};if(f.y-=window.pageYOffset-this.initialWindowScroll.top,f.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=f,r){var h=function(e){var t=e.height,n=e.width,o=e.lockOffset,r=Array.isArray(o)?o:[o,o];x(2===r.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",o);var i=s(r,2),l=i[0],a=i[1];return[W({height:t,lockOffset:l,width:n}),W({height:t,lockOffset:a,width:n})]}({height:this.height,lockOffset:o,width:this.width}),d=s(h,2),m=d[0],y=d[1],b={x:this.width/2-m.x,y:this.height/2-m.y},g={x:this.width/2-y.x,y:this.height/2-y.y};f.x=M(this.minTranslate.x+b.x,this.maxTranslate.x-g.x,f.x),f.y=M(this.minTranslate.y+b.y,this.maxTranslate.y-g.y,f.y)}"x"===n?f.y=0:"y"===n&&(f.x=0),c&&a&&!u&&N(this.helper,a),R(this.helper,f)}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,o=e.onSortOver,r=this.containerScrollDelta,i=this.windowScrollDelta,l=this.manager.getOrderedRefs(),a={left:this.offsetEdge.left+this.translate.x+r.left,top:this.offsetEdge.top+this.translate.y+r.top},c=this.manager.isKeySorting,s=this.newIndex;this.newIndex=null;for(var u=0,p=l.length;u<p;u++){var f=l[u].node,h=f.sortableInfo.index,d=f.offsetWidth,m=f.offsetHeight,y={height:this.height>m?m/2:this.height/2,width:this.width>d?d/2:this.width/2},b=c&&h>this.index&&h<=s,g=c&&h<this.index&&h>=s,v={x:0,y:0},w=l[u].edgeOffset;w||(w=V(f,this.container),l[u].edgeOffset=w,c&&(l[u].boundingClientRect=L(f,r)));var x=u<l.length-1&&l[u+1],k=u>0&&l[u-1];x&&!x.edgeOffset&&(x.edgeOffset=V(x.node,this.container),c&&(x.boundingClientRect=L(x.node,r))),h!==this.index?(t&&N(f,t),this.axis.x?this.axis.y?g||h<this.index&&(a.left+i.left-y.width<=w.left&&a.top+i.top<=w.top+y.height||a.top+i.top+y.height<=w.top)?(v.x=this.width+this.marginOffset.x,w.left+v.x>this.containerBoundingRect.width-y.width&&x&&(v.x=x.edgeOffset.left-w.left,v.y=x.edgeOffset.top-w.top),null===this.newIndex&&(this.newIndex=h)):(b||h>this.index&&(a.left+i.left+y.width>=w.left&&a.top+i.top+y.height>=w.top||a.top+i.top+y.height>=w.top+m))&&(v.x=-(this.width+this.marginOffset.x),w.left+v.x<this.containerBoundingRect.left+y.width&&k&&(v.x=k.edgeOffset.left-w.left,v.y=k.edgeOffset.top-w.top),this.newIndex=h):b||h>this.index&&a.left+i.left+y.width>=w.left?(v.x=-(this.width+this.marginOffset.x),this.newIndex=h):(g||h<this.index&&a.left+i.left<=w.left+y.width)&&(v.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=h)):this.axis.y&&(b||h>this.index&&a.top+i.top+y.height>=w.top?(v.y=-(this.height+this.marginOffset.y),this.newIndex=h):(g||h<this.index&&a.top+i.top<=w.top+y.height)&&(v.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=h))),R(f,v),l[u].translate=v):n&&(this.sortableGhost=f,P(f,{opacity:0,visibility:"hidden"}))}null==this.newIndex&&(this.newIndex=this.index),c&&(this.newIndex=s);var C=c?this.prevIndex:s;o&&this.newIndex!==C&&o({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:C,isKeySorting:c})}},{key:"getWrappedInstance",value:function(){return x(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?o.findDOMNode(this):e(a.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var n=a.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:n},T(this.props,Z)))}},{key:"helperContainer",get:function(){var e=this.props.helperContainer;return"function"==typeof e?e():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var e=this.props.useWindowAsScrollContainer;return e?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),r}(t.Component),u(r,"displayName",z("sortableList",e)),u(r,"defaultProps",Y),u(r,"propTypes",X),u(r,"childContextTypes",{manager:n.object.isRequired}),l}var Q={index:n.number.isRequired,collection:n.oneOfType([n.number,n.string]),disabled:n.bool},$=Object.keys(Q);function ee(e){var r,l,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return l=r=function(n){function r(){return f(this,r),b(this,g(r).apply(this,arguments))}return w(r,n),d(r,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(e){this.node&&(e.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),e.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),e.collection!==this.props.collection&&(this.unregister(e.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var e=this.props,t=e.collection,n=e.disabled,r=e.index,i=o.findDOMNode(this);i.sortableInfo={collection:t,disabled:n,index:r,manager:this.context.manager},this.node=i,this.ref={node:i},this.context.manager.add(t,this.ref)}},{key:"unregister",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.collection;this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return x(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var n=a.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:n},T(this.props,$)))}}]),r}(t.Component),u(r,"displayName",z("sortableElement",e)),u(r,"contextTypes",{manager:n.object.isRequired}),u(r,"propTypes",Q),u(r,"defaultProps",{collection:0}),l}e.SortableContainer=J,e.sortableContainer=J,e.SortableElement=ee,e.sortableElement=ee,e.SortableHandle=q,e.sortableHandle=q,e.arrayMove=function(e,t,n){return"undefined"!=typeof console&&console.warn("Deprecation warning: arrayMove will no longer be exported by 'react-sortable-hoc' in the next major release. Please install the `array-move` package locally instead. https://www.npmjs.com/package/array-move"),(e=e.slice()).splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2),n(15),n(21))},33:function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)&&o.length){var l=r.apply(null,o);l&&e.push(l)}else if("object"===i)for(var a in o)n.call(o,a)&&o[a]&&e.push(a)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},34:function(e,t,n){"use strict";var o=n(35);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,i,l){if(l!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:r};return n.PropTypes=n,n}},35:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},38:function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n=function(){function e(){}function t(e,t){for(var n=t.length,o=0;o<n;++o)r(e,t[o])}e.prototype=Object.create(null);var n={}.hasOwnProperty;var o=/\s+/;function r(e,r){if(r){var i=typeof r;"string"===i?function(e,t){for(var n=t.split(o),r=n.length,i=0;i<r;++i)e[n[i]]=!0}(e,r):Array.isArray(r)?t(e,r):"object"===i?function(e,t){for(var o in t)n.call(t,o)&&(e[o]=!!t[o])}(e,r):"number"===i&&function(e,t){e[t]=!0}(e,r)}}return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var i=new e;t(i,o);var l=[];for(var a in i)i[a]&&l.push(a);return l.join(" ")}}();e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},39:function(e,t,n){"use strict";const o=(e,t,n)=>{e.splice(n<0?e.length+n:n,0,e.splice(t,1)[0])},r=(e,t,n)=>(e=e.slice(),o(e,t,n),e);e.exports=r,e.exports.default=r,e.exports.mutate=o},52:function(e,t,n){e.exports=n(57)},53:function(e,t,n){var o=Array.prototype.slice,r=n(58),i=n(59),l=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var s,u;if(a(e)||a(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=o.call(e),t=o.call(t),l(e,t,n));if(c(e)){if(!c(t))return!1;if(e.length!==t.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}try{var p=r(e),f=r(t)}catch(e){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),s=p.length-1;s>=0;s--)if(p[s]!=f[s])return!1;for(s=p.length-1;s>=0;s--)if(u=p[s],!l(e[u],t[u],n))return!1;return typeof e==typeof t}(e,t,n))};function a(e){return null==e}function c(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},55:function(e,t,n){e.exports=n(103)},56:function(e,t){var n=wp.editor.InnerBlocks,o=wp.i18n.__;(0,wp.blocks.registerBlockType)("lazyblock-core/free",{title:o("Free Content"),description:o("Block used for adding blocks inside it in cases when template locked from adding blocks."),category:"lazyblocks",supports:{html:!0,inserter:!1},edit:function(){return wp.element.createElement("div",{className:"lazyblocks-free"},wp.element.createElement(n,{templateLock:null}))},save:function(){return wp.element.createElement(n.Content,null)}})},57:function(e,t){function n(e){var t=0;if(0==e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}function o(e,t){t=t||62;var n,o=[],r="",i=e<0?"-":"";function l(e){return"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[e]}for(e=Math.abs(e);e>=t;)n=e%t,e=Math.floor(e/t),o.push(l(n));e>0&&o.push(l(e));for(var a=o.length-1;a>=0;a--)r+=o[a];return i+r}t.bitwise=n,t.binaryTransfer=o,t.unique=function(e){return o(n(e),61).replace("-","Z")},t.random=function(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",o=e||8,r=0;r<o;r++){var i=Math.floor(Math.random()*t.length);n+=t.substring(i,i+1)}return n}},58:function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},59:function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function o(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?o:r).supported=o,t.unsupported=r}});