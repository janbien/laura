!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){!function(e,t,n,o){"use strict";function r(e,t){return e(t={exports:{}},t.exports),t.exports}n=n&&n.hasOwnProperty("default")?n.default:n;var i=r(function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.apply(this,arguments)}e.exports=t}),l=function(e){if(Array.isArray(e))return e},a=function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var l,a=e[Symbol.iterator]();!(o=(l=a.next()).done)&&(n.push(l.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n},c=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(e,t){return l(e)||a(e,t)||c()},u=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}},p=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)},f=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")},h=function(e){return u(e)||p(e)||f()},d=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var y=function(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e},b=r(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(o){return"function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?e.exports=n=function(e){return t(e)}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)},n(o)}e.exports=n}),g=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},v=function(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?g(e):t},w=r(function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t}),x=r(function(e){function t(n,o){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,o)}e.exports=t}),C=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)},k=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},O=function(e,t,n,o,r,i,l,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,o,r,i,l,a],u=0;(c=new Error(t.replace(/%s/g,function(){return s[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},E=function(){function e(){d(this,e),k(this,"refs",{})}return y(e,[{key:"add",value:function(e,t){this.refs[e]||(this.refs[e]=[]),this.refs[e].push(t)}},{key:"remove",value:function(e,t){var n=this.getIndex(e,t);-1!==n&&this.refs[e].splice(n,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var e=this;return this.refs[this.active.collection].find(function(t){var n=t.node;return n.sortableInfo.index==e.active.index})}},{key:"getIndex",value:function(e,t){return this.refs[e].indexOf(t)}},{key:"getOrderedRefs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.active.collection;return this.refs[e].sort(S)}}]),e}();function S(e,t){var n=e.node.sortableInfo.index,o=t.node.sortableInfo.index;return n-o}function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Object.keys(e).reduce(function(t,o){return-1===n.indexOf(o)&&(t[o]=e[o]),t},{})}var T={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]},I=function(){if("undefined"==typeof window||"undefined"==typeof document)return"";var e=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1];switch(t){case"ms":return"ms";default:return t&&t.length?t[0].toUpperCase()+t.substr(1):""}}();function j(e,t){for(;e;){if(t(e))return e;e=e.parentNode}return null}function P(e,t,n){return Math.max(e,Math.min(n,t))}function R(e){return"px"===e.substr(-2)?parseFloat(e):0}function D(e,t){var n=t.displayName||t.name;return n?"".concat(e,"(").concat(n,")"):e}function N(e){return e.touches&&e.touches.length?{x:e.touches[0].pageX,y:e.touches[0].pageY}:e.changedTouches&&e.changedTouches.length?{x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY}:{x:e.pageX,y:e.pageY}}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,left:0};if(e){var o={top:n.top+e.offsetTop,left:n.left+e.offsetLeft};return e.parentNode===t?o:M(e.parentNode,t,o)}}function A(e){var t=e.lockOffset,n=e.width,o=e.height,r=t,i=t,l="px";if("string"==typeof t){var a=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(t);O(null!==a,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',t),r=parseFloat(t),i=parseFloat(t),l=a[1]}return O(isFinite(r)&&isFinite(i),"lockOffset value should be a finite. Given %s",t),"%"===l&&(r=r*n/100,i=i*o/100),{x:r,y:i}}function z(e){var r,l,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return l=r=function(n){function r(e){var t;return d(this,r),t=v(this,w(r).call(this,e)),k(g(g(t)),"handleStart",function(e){var n=t.props,o=n.distance,r=n.shouldCancelStart;if(2!==e.button&&!r(e)){t._touched=!0,t._pos=N(e);var i=j(e.target,function(e){return null!=e.sortableInfo});if(i&&i.sortableInfo&&t.nodeIsChild(i)&&!t.state.sorting){var l=t.props.useDragHandle,a=i.sortableInfo,c=a.index,s=a.collection;if(l&&!j(e.target,function(e){return null!=e.sortableHandle}))return;t.manager.active={index:c,collection:s},function(e){return e.touches&&e.touches.length||e.changedTouches&&e.changedTouches.length}(e)||"a"!==e.target.tagName.toLowerCase()||e.preventDefault(),o||(0===t.props.pressDelay?t.handlePress(e):t.pressTimer=setTimeout(function(){return t.handlePress(e)},t.props.pressDelay))}}}),k(g(g(t)),"nodeIsChild",function(e){return e.sortableInfo.manager===t.manager}),k(g(g(t)),"handleMove",function(e){var n=t.props,o=n.distance,r=n.pressThreshold;if(!t.state.sorting&&t._touched&&!t._awaitingUpdateBeforeSortStart){var i=N(e),l={x:t._pos.x-i.x,y:t._pos.y-i.y},a=Math.abs(l.x)+Math.abs(l.y);t.delta=l,o||r&&!(r&&a>=r)?o&&a>=o&&t.manager.isActive()&&t.handlePress(e):(clearTimeout(t.cancelTimer),t.cancelTimer=setTimeout(t.cancel,0))}}),k(g(g(t)),"handleEnd",function(){t._touched=!1,t.cancel()}),k(g(g(t)),"cancel",function(){var e=t.props.distance,n=t.state.sorting;n||(e||clearTimeout(t.pressTimer),t.manager.active=null)}),k(g(g(t)),"handlePress",function(e){try{var n=t.manager.getActive(),o=function(){if(n){var o=function(){var n=function(e){var t=window.getComputedStyle(e);return{top:R(t.marginTop),right:R(t.marginRight),bottom:R(t.marginBottom),left:R(t.marginLeft)}}(f),o=t.container.getBoundingClientRect(),r=l({index:m,node:f,collection:d});t.node=f,t.margin=n,t.width=r.width,t.height=r.height,t.marginOffset={x:t.margin.left+t.margin.right,y:Math.max(t.margin.top,t.margin.bottom)},t.boundingClientRect=f.getBoundingClientRect(),t.containerBoundingRect=o,t.index=m,t.newIndex=m,t.axis={x:i.indexOf("x")>=0,y:i.indexOf("y")>=0},t.offsetEdge=M(f,t.container),t.initialOffset=N(e),t.initialScroll={top:t.container.scrollTop,left:t.container.scrollLeft},t.initialWindowScroll={top:window.pageYOffset,left:window.pageXOffset};var s,y=f.querySelectorAll("input, textarea, select"),b=f.cloneNode(!0),g=h(b.querySelectorAll("input, textarea, select"));g.forEach(function(e,t){"file"!==e.type&&y[m]&&(e.value=y[t].value)}),t.helper=t.helperContainer.appendChild(b),t.helper.style.position="fixed",t.helper.style.top="".concat(t.boundingClientRect.top-n.top,"px"),t.helper.style.left="".concat(t.boundingClientRect.left-n.left,"px"),t.helper.style.width="".concat(t.width,"px"),t.helper.style.height="".concat(t.height,"px"),t.helper.style.boxSizing="border-box",t.helper.style.pointerEvents="none",c&&(t.sortableGhost=f,f.style.visibility="hidden",f.style.opacity=0),t.minTranslate={},t.maxTranslate={},t.axis.x&&(t.minTranslate.x=(p?0:o.left)-t.boundingClientRect.left-t.width/2,t.maxTranslate.x=(p?t.contentWindow.innerWidth:o.left+o.width)-t.boundingClientRect.left-t.width/2),t.axis.y&&(t.minTranslate.y=(p?0:o.top)-t.boundingClientRect.top-t.height/2,t.maxTranslate.y=(p?t.contentWindow.innerHeight:o.top+o.height)-t.boundingClientRect.top-t.height/2),a&&(s=t.helper.classList).add.apply(s,h(a.split(" "))),t.listenerNode=e.touches?f:t.contentWindow,T.move.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortMove,!1)}),T.end.forEach(function(e){return t.listenerNode.addEventListener(e,t.handleSortEnd,!1)}),t.setState({sorting:!0,sortingIndex:m}),u&&u({node:f,index:m,collection:d},e)},r=t.props,i=r.axis,l=r.getHelperDimensions,a=r.helperClass,c=r.hideSortableGhost,s=r.updateBeforeSortStart,u=r.onSortStart,p=r.useWindowAsScrollContainer,f=n.node,d=n.collection,m=f.sortableInfo.index,y=function(){if("function"==typeof s){t._awaitingUpdateBeforeSortStart=!0;var n=function(e,t){try{var n=e()}catch(e){return t(!0,e)}return n&&n.then?n.then(t.bind(null,!1),t.bind(null,!0)):t(!1,value)}(function(){return Promise.resolve(s({node:f,index:m,collection:d},e)).then(function(){})},function(e,n){if(t._awaitingUpdateBeforeSortStart=!1,e)throw n;return n});if(n&&n.then)return n.then(function(){})}}();return y&&y.then?y.then(o):o()}}();return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}),k(g(g(t)),"handleSortMove",function(e){var n=t.props.onSortMove;e.preventDefault(),t.updatePosition(e),t.animateNodes(),t.autoscroll(),n&&n(e)}),k(g(g(t)),"handleSortEnd",function(e){var n=t.props,o=n.hideSortableGhost,r=n.onSortEnd,i=t.manager.active.collection;t.listenerNode&&(T.move.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortMove)}),T.end.forEach(function(e){return t.listenerNode.removeEventListener(e,t.handleSortEnd)})),t.helper.parentNode.removeChild(t.helper),o&&t.sortableGhost&&(t.sortableGhost.style.visibility="",t.sortableGhost.style.opacity="");for(var l=t.manager.refs[i],a=0,c=l.length;a<c;a++){var s=l[a],u=s.node;s.edgeOffset=null,u.style["".concat(I,"Transform")]="",u.style["".concat(I,"TransitionDuration")]=""}clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.manager.active=null,t.setState({sorting:!1,sortingIndex:null}),"function"==typeof r&&r({oldIndex:t.index,newIndex:t.newIndex,collection:i},e),t._touched=!1}),k(g(g(t)),"autoscroll",function(){var e=t.translate,n={x:0,y:0},o={x:1,y:1},r={x:10,y:10};e.y>=t.maxTranslate.y-t.height/2?(n.y=1,o.y=r.y*Math.abs((t.maxTranslate.y-t.height/2-e.y)/t.height)):e.x>=t.maxTranslate.x-t.width/2?(n.x=1,o.x=r.x*Math.abs((t.maxTranslate.x-t.width/2-e.x)/t.width)):e.y<=t.minTranslate.y+t.height/2?(n.y=-1,o.y=r.y*Math.abs((e.y-t.height/2-t.minTranslate.y)/t.height)):e.x<=t.minTranslate.x+t.width/2&&(n.x=-1,o.x=r.x*Math.abs((e.x-t.width/2-t.minTranslate.x)/t.width)),t.autoscrollInterval&&(clearInterval(t.autoscrollInterval),t.autoscrollInterval=null,t.isAutoScrolling=!1),0===n.x&&0===n.y||(t.autoscrollInterval=setInterval(function(){t.isAutoScrolling=!0;var e={left:o.x*n.x,top:o.y*n.y};t.scrollContainer.scrollTop+=e.top,t.scrollContainer.scrollLeft+=e.left,t.translate.x+=e.left,t.translate.y+=e.top,t.animateNodes()},5))}),t.manager=new E,t.events={start:t.handleStart,move:t.handleMove,end:t.handleEnd},O(!(e.distance&&e.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time."),t.state={},t}return C(r,n),y(r,[{key:"getChildContext",value:function(){return{manager:this.manager}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.useWindowAsScrollContainer,n=this.getContainer();Promise.resolve(n).then(function(n){e.container=n,e.document=e.container.ownerDocument||document;var o=e.props.contentWindow||e.document.defaultView||window;e.contentWindow="function"==typeof o?o():o,e.scrollContainer=t?e.document.scrollingElement||e.document.documentElement:e.container;var r=function(t){e.events.hasOwnProperty(t)&&T[t].forEach(function(n){return e.container.addEventListener(n,e.events[t],!1)})};for(var i in e.events)r(i)})}},{key:"componentWillUnmount",value:function(){var e=this;if(this.container){var t=function(t){e.events.hasOwnProperty(t)&&T[t].forEach(function(n){return e.container.removeEventListener(n,e.events[t])})};for(var n in this.events)t(n)}}},{key:"getLockPixelOffsets",value:function(){var e=this.width,t=this.height,n=this.props.lockOffset,o=Array.isArray(n)?n:[n,n];O(2===o.length,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",n);var r=s(o,2),i=r[0],l=r[1];return[A({lockOffset:i,width:e,height:t}),A({lockOffset:l,width:e,height:t})]}},{key:"updatePosition",value:function(e){var t=this.props,n=t.lockAxis,o=t.lockToContainerEdges,r=N(e),i={x:r.x-this.initialOffset.x,y:r.y-this.initialOffset.y};if(i.y-=window.pageYOffset-this.initialWindowScroll.top,i.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=i,o){var l=this.getLockPixelOffsets(),a=s(l,2),c=a[0],u=a[1],p={x:this.width/2-c.x,y:this.height/2-c.y},f={x:this.width/2-u.x,y:this.height/2-u.y};i.x=P(this.minTranslate.x+p.x,this.maxTranslate.x-f.x,i.x),i.y=P(this.minTranslate.y+p.y,this.maxTranslate.y-f.y,i.y)}"x"===n?i.y=0:"y"===n&&(i.x=0),this.helper.style["".concat(I,"Transform")]="translate3d(".concat(i.x,"px,").concat(i.y,"px, 0)")}},{key:"animateNodes",value:function(){var e=this.props,t=e.transitionDuration,n=e.hideSortableGhost,o=e.onSortOver,r=this.manager.getOrderedRefs(),i={left:this.container.scrollLeft-this.initialScroll.left,top:this.container.scrollTop-this.initialScroll.top},l={left:this.offsetEdge.left+this.translate.x+i.left,top:this.offsetEdge.top+this.translate.y+i.top},a={top:window.pageYOffset-this.initialWindowScroll.top,left:window.pageXOffset-this.initialWindowScroll.left},c=this.newIndex;this.newIndex=null;for(var s=0,u=r.length;s<u;s++){var p=r[s].node,f=p.sortableInfo.index,h=p.offsetWidth,d=p.offsetHeight,m={width:this.width>h?h/2:this.width/2,height:this.height>d?d/2:this.height/2},y={x:0,y:0},b=r[s].edgeOffset;b||(b=M(p,this.container),r[s].edgeOffset=b);var g=s<r.length-1&&r[s+1],v=s>0&&r[s-1];g&&!g.edgeOffset&&(g.edgeOffset=M(g.node,this.container)),f!==this.index?(t&&(p.style["".concat(I,"TransitionDuration")]="".concat(t,"ms")),this.axis.x?this.axis.y?f<this.index&&(l.left+a.left-m.width<=b.left&&l.top+a.top<=b.top+m.height||l.top+a.top+m.height<=b.top)?(y.x=this.width+this.marginOffset.x,b.left+y.x>this.containerBoundingRect.width-m.width&&(y.x=g.edgeOffset.left-b.left,y.y=g.edgeOffset.top-b.top),null===this.newIndex&&(this.newIndex=f)):f>this.index&&(l.left+a.left+m.width>=b.left&&l.top+a.top+m.height>=b.top||l.top+a.top+m.height>=b.top+d)&&(y.x=-(this.width+this.marginOffset.x),b.left+y.x<this.containerBoundingRect.left+m.width&&(y.x=v.edgeOffset.left-b.left,y.y=v.edgeOffset.top-b.top),this.newIndex=f):f>this.index&&l.left+a.left+m.width>=b.left?(y.x=-(this.width+this.marginOffset.x),this.newIndex=f):f<this.index&&l.left+a.left<=b.left+m.width&&(y.x=this.width+this.marginOffset.x,null==this.newIndex&&(this.newIndex=f)):this.axis.y&&(f>this.index&&l.top+a.top+m.height>=b.top?(y.y=-(this.height+this.marginOffset.y),this.newIndex=f):f<this.index&&l.top+a.top<=b.top+m.height&&(y.y=this.height+this.marginOffset.y,null==this.newIndex&&(this.newIndex=f))),p.style["".concat(I,"Transform")]="translate3d(".concat(y.x,"px,").concat(y.y,"px,0)")):n&&(this.sortableGhost=p,p.style.visibility="hidden",p.style.opacity=0)}null==this.newIndex&&(this.newIndex=this.index),o&&this.newIndex!==c&&o({newIndex:this.newIndex,oldIndex:c,index:this.index,collection:this.manager.active.collection})}},{key:"getWrappedInstance",value:function(){return O(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.refs.wrappedInstance}},{key:"getContainer",value:function(){var e=this.props.getContainer;return"function"!=typeof e?o.findDOMNode(this):e(a.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var n=a.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:n},_(this.props,"contentWindow","useWindowAsScrollContainer","distance","helperClass","hideSortableGhost","transitionDuration","useDragHandle","pressDelay","pressThreshold","shouldCancelStart","updateBeforeSortStart","onSortStart","onSortMove","onSortEnd","axis","lockAxis","lockOffset","lockToContainerEdges","getContainer","getHelperDimensions")))}},{key:"helperContainer",get:function(){return this.props.helperContainer||this.document.body}}]),r}(t.Component),k(r,"displayName",D("sortableList",e)),k(r,"defaultProps",{axis:"y",transitionDuration:300,pressDelay:0,pressThreshold:5,distance:0,useWindowAsScrollContainer:!1,hideSortableGhost:!0,shouldCancelStart:function(e){return-1!==["input","textarea","select","option","button"].indexOf(e.target.tagName.toLowerCase())},lockToContainerEdges:!1,lockOffset:"50%",getHelperDimensions:function(e){var t=e.node;return{width:t.offsetWidth,height:t.offsetHeight}}}),k(r,"propTypes",{axis:n.oneOf(["x","y","xy"]),distance:n.number,lockAxis:n.string,helperClass:n.string,transitionDuration:n.number,contentWindow:n.any,updateBeforeSortStart:n.func,onSortStart:n.func,onSortMove:n.func,onSortOver:n.func,onSortEnd:n.func,shouldCancelStart:n.func,pressDelay:n.number,pressThreshold:n.number,useDragHandle:n.bool,useWindowAsScrollContainer:n.bool,hideSortableGhost:n.bool,lockToContainerEdges:n.bool,lockOffset:n.oneOfType([n.number,n.string,n.arrayOf(n.oneOfType([n.number,n.string]))]),getContainer:n.func,getHelperDimensions:n.func,helperContainer:"undefined"==typeof HTMLElement?n.any:n.instanceOf(HTMLElement)}),k(r,"childContextTypes",{manager:n.object.isRequired}),l}function B(e){var r,l,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return l=r=function(n){function r(){return d(this,r),v(this,w(r).apply(this,arguments))}return C(r,n),y(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.collection,n=e.disabled,o=e.index;n||this.setDraggable(t,o)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.index!==e.index&&this.node&&(this.node.sortableInfo.index=e.index),this.props.disabled!==e.disabled){var t=e.collection,n=e.disabled,o=e.index;n?this.removeDraggable(t):this.setDraggable(t,o)}else this.props.collection!==e.collection&&(this.removeDraggable(this.props.collection),this.setDraggable(e.collection,e.index))}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.collection,n=e.disabled;n||this.removeDraggable(t)}},{key:"setDraggable",value:function(e,t){var n=o.findDOMNode(this);n.sortableInfo={index:t,collection:e,manager:this.context.manager},this.node=n,this.ref={node:n},this.context.manager.add(e,this.ref)}},{key:"removeDraggable",value:function(e){this.context.manager.remove(e,this.ref)}},{key:"getWrappedInstance",value:function(){return O(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var n=a.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:n},_(this.props,"collection","disabled","index")))}}]),r}(t.Component),k(r,"displayName",D("sortableElement",e)),k(r,"contextTypes",{manager:n.object.isRequired}),k(r,"propTypes",{index:n.number.isRequired,collection:n.oneOfType([n.number,n.string]),disabled:n.bool}),k(r,"defaultProps",{collection:0}),l}function U(e){var n,r,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{withRef:!1};return r=n=function(n){function r(){return d(this,r),v(this,w(r).apply(this,arguments))}return C(r,n),y(r,[{key:"componentDidMount",value:function(){var e=o.findDOMNode(this);e.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return O(l.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.refs.wrappedInstance}},{key:"render",value:function(){var n=l.withRef?"wrappedInstance":null;return t.createElement(e,i({ref:n},this.props))}}]),r}(t.Component),k(n,"displayName",D("sortableHandle",e)),r}e.SortableContainer=z,e.sortableContainer=z,e.SortableElement=B,e.sortableElement=B,e.SortableHandle=U,e.sortableHandle=U,e.arrayMove=function(e,t,n){return(e=e.slice()).splice(n<0?e.length+n:n,0,e.splice(t,1)[0]),e},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(5),n(6),n(9))},function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n=function(){function e(){}function t(e,t){for(var n=t.length,o=0;o<n;++o)r(e,t[o])}e.prototype=Object.create(null);var n={}.hasOwnProperty;var o=/\s+/;function r(e,r){if(r){var i=typeof r;"string"===i?function(e,t){for(var n=t.split(o),r=n.length,i=0;i<r;++i)e[n[i]]=!0}(e,r):Array.isArray(r)?t(e,r):"object"===i?function(e,t){for(var o in t)n.call(t,o)&&(e[o]=!!t[o])}(e,r):"number"===i&&function(e,t){e[t]=!0}(e,r)}}return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];var i=new e;t(i,o);var l=[];for(var a in i)i[a]&&l.push(a);return l.join(" ")}}();e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},function(e,t,n){e.exports=n(11)},function(e,t,n){var o=Array.prototype.slice,r=n(12),i=n(13),l=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var s,u;if(a(e)||a(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=o.call(e),t=o.call(t),l(e,t,n));if(c(e)){if(!c(t))return!1;if(e.length!==t.length)return!1;for(s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}try{var p=r(e),f=r(t)}catch(e){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),s=p.length-1;s>=0;s--)if(p[s]!=f[s])return!1;for(s=p.length-1;s>=0;s--)if(u=p[s],!l(e[u],t[u],n))return!1;return typeof e==typeof t}(e,t,n))};function a(e){return null===e||void 0===e}function c(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},function(e,t,n){e.exports=n(14)},function(e,t){e.exports=React},function(e,t,n){e.exports=n(7)()},function(e,t,n){"use strict";var o=n(8);function r(){}e.exports=function(){function e(e,t,n,r,i,l){if(l!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=ReactDOM},function(e,t){var n=wp.editor.InnerBlocks,o=wp.i18n.__;(0,wp.blocks.registerBlockType)("lazyblock-core/free",{title:o("Free Content"),description:o("Block used for adding blocks inside it in cases when template locked from adding blocks."),category:"lazyblocks",supports:{html:!0,inserter:!1},edit:function(){return wp.element.createElement("div",{className:"lazyblocks-free"},wp.element.createElement(n,{templateLock:null}))},save:function(){return wp.element.createElement(n.Content,null)}})},function(e,t){function n(e){var t=0;if(0==e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}function o(e,t){t=t||62;var n,o=[],r="",i=e<0?"-":"";function l(e){return"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[e]}for(e=Math.abs(e);e>=t;)n=e%t,e=Math.floor(e/t),o.push(l(n));e>0&&o.push(l(e));for(var a=o.length-1;a>=0;a--)r+=o[a];return i+r}t.bitwise=n,t.binaryTransfer=o,t.unique=function(e){return o(n(e),61).replace("-","Z")},t.random=function(e){for(var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",o=e||8,r=0;r<o;r++){var i=Math.floor(Math.random()*t.length);n+=t.substring(i,i+1)}return n}},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function o(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?o:r).supported=o,t.unsupported=r},function(e,t,n){"use strict";n.r(t);var o=n(1),r=n.n(o),i=n(0),l=(n(10),n(2)),a=n.n(l);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=wp.hooks.addFilter,d=wp.element.Component,m=wp.blocks.getBlockType,y=wp.compose.createHigherOrderComponent,b=wp.data.withSelect,g={};function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}h("editor.BlockEdit","lazyblocks/uniqueBlockId",y(function(e){var t=function(t){function n(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(e=function(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?f(e):t}(this,u(n).apply(this,arguments))).maybeCreateBlockId=e.maybeCreateBlockId.bind(f(f(e))),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(n,d),function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(n,[{key:"componentDidMount",value:function(){this.props.blockSettings.lazyblock&&this.maybeCreateBlockId()}},{key:"maybeCreateBlockId",value:function(){var e=this.props,t=e.setAttributes,n=e.attributes,o=e.clientId,r=n.blockId;if(o&&void 0!==r&&(!r||r&&void 0!==g[r])){for(var i="",l=10;!i||void 0!==g[i]&&g[i]!==o&&l>0;)i=a.a.unique(o),l--;i&&void 0===g[i]&&(g[i]=o),i!==r&&t({blockId:i})}}},{key:"render",value:function(){return wp.element.createElement(e,this.props)}}]),n}();return b(function(e,t){return{blockSettings:m(t.name)}})(t)},"withUniqueBlockId"));var O=wp.i18n.__,E=wp.element,S=E.Component,_=(E.Fragment,wp.components),T=_.BaseControl,I=_.Button,j=_.DropZone,P=wp.compose.withInstanceId,R=wp.editor,D=R.MediaPlaceholder,N=R.mediaUpload,M=["image"],A=P(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),x(this,C(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(t,S),function(e,t,n){t&&w(e.prototype,t),n&&w(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,o=e.help,r=e.onChange,i=void 0===r?function(){}:r;return wp.element.createElement(T,{label:t,help:o},wp.element.createElement("div",{className:"lzb-gutenberg-image-wrap"},n&&Object.keys(n).length?"":wp.element.createElement(D,{icon:"format-image",labels:{title:t,name:O("image")},onSelect:function(e){i(e)},accept:"image/*",allowedTypes:M,disableMaxUploadErrorMessages:!0,onError:function(e){console.log(e)}}),n&&Object.keys(n).length?wp.element.createElement("div",{className:"lzb-gutenberg-image"},wp.element.createElement(j,{onFilesDrop:function(e){N({allowedTypes:M,filesList:e,onFileChange:function(e){i(e)},onError:function(e){console.log(e)}})}}),wp.element.createElement("div",{className:"lzb-gutenberg-image-button"},wp.element.createElement(I,{isDefault:!0,onClick:function(){i("")}},"Remove Image")),wp.element.createElement("div",{className:"lzb-gutenberg-image-item",key:n.id||n.url},wp.element.createElement("img",{src:n.url,alt:n.alt}))):""))}}]),t}());function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function U(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var H=wp.i18n.__,V=wp.element.Component,q=wp.components,F=q.BaseControl,G=q.Button,X=q.DropZone,Y=wp.compose.withInstanceId,Z=wp.editor,J=Z.MediaPlaceholder,Q=Z.MediaUpload,K=Z.mediaUpload,$=["image"],ee=Y(function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),U(this,W(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(t,V),function(e,t,n){t&&B(e.prototype,t),n&&B(e,n)}(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.value,o=e.help,r=e.onChange,i=void 0===r?function(){}:r;return wp.element.createElement(F,{label:t,help:o},wp.element.createElement("div",{className:"lzb-gutenberg-gallery-wrap"},n&&Object.keys(n).length?"":wp.element.createElement(J,{icon:"format-gallery",labels:{title:t,name:H("images")},onSelect:function(e){i(e)},accept:"image/*",allowedTypes:$,disableMaxUploadErrorMessages:!0,multiple:!0,onError:function(e){console.log(e)}}),n&&Object.keys(n).length?wp.element.createElement(Q,{onSelect:function(e){i(e)},allowedTypes:$,multiple:!0,gallery:!0,value:n.map(function(e){return e.id}),render:function(e){var t=e.open;return wp.element.createElement("div",{className:"lzb-gutenberg-gallery",onClick:t,role:"presentation"},wp.element.createElement(X,{onFilesDrop:function(e){var t=n||[];K({allowedTypes:$,filesList:e,onFileChange:function(e){i(t.concat(e))},onError:function(e){console.log(e)}})}}),wp.element.createElement("div",{className:"lzb-gutenberg-gallery-button"},wp.element.createElement(G,{isDefault:!0},H("Edit Gallery"))),n.map(function(e){return wp.element.createElement("div",{className:"lzb-gutenberg-gallery-item",key:e.id||e.url},wp.element.createElement("img",{src:e.url,alt:e.alt}))}))}}):""))}}]),t}());function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function oe(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var ae=wp.i18n.__,ce=wp.element.Component,se=wp.components,ue=se.BaseControl,pe=se.Button,fe=se.Tooltip,he=se.ToggleControl,de=wp.compose.withInstanceId,me=Object(i.SortableHandle)(function(){return wp.element.createElement(pe,{className:"lzb-gutenberg-repeater-btn-drag",onClick:function(e){e.stopPropagation()},role:"button"},wp.element.createElement("span",{className:"dashicons dashicons-menu"}))}),ye=Object(i.SortableElement)(function(e){return wp.element.createElement("div",{className:"lzb-gutenberg-repeater-item"},wp.element.createElement("button",{className:"lzb-gutenberg-repeater-btn"+(e.active?" lzb-gutenberg-repeater-btn-active":""),onClick:e.onToggle},e.title,wp.element.createElement(me,null),wp.element.createElement("span",{className:"lzb-gutenberg-repeater-btn-arrow dashicons dashicons-arrow-right-alt2"})),wp.element.createElement("button",{className:"lzb-gutenberg-repeater-btn-remove",onClick:e.onRemove},wp.element.createElement("span",{className:"dashicons dashicons-no-alt"})),e.active?e.renderContent():"")}),be=Object(i.SortableContainer)(function(e){var t=e.items;return wp.element.createElement("div",{className:"lzb-gutenberg-repeater-items"},t.map(function(e,t){return wp.element.createElement(ye,le({key:"repeater-item-".concat(t),index:t},e))}))}),ge=de(function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=oe(this,re(t).apply(this,arguments))).state={activeItem:-1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,ce),function(e,t,n){t&&ne(e.prototype,t),n&&ne(e,n)}(t,[{key:"render",value:function(){for(var e=this,t=this.props,n=t.label,o=t.count,r=void 0===o?1:o,i=t.renderRow,l=void 0===i?function(){}:i,a=t.addRow,c=void 0===a?function(){}:a,s=t.removeRow,u=void 0===s?function(){}:s,p=t.resortRow,f=void 0===p?function(){}:p,h=[],d=function(t){var n=-2===e.state.activeItem||e.state.activeItem===t;h.push({title:"Row ".concat(t+1),active:n,onToggle:function(o){o.preventDefault(),o.stopPropagation(),e.setState({activeItem:n?-1:t})},onRemove:function(e){e.preventDefault(),e.stopPropagation(),u(t)},renderContent:function(){return wp.element.createElement("div",{className:"lzb-gutenberg-repeater-item-content"},l(t))}})},m=0;m<r;m++)d(m);return wp.element.createElement(ue,{label:n},wp.element.createElement("div",{className:"lzb-gutenberg-repeater"},h.length?wp.element.createElement(be,{items:h,onSortEnd:function(t){var n=t.oldIndex,o=t.newIndex;f(n,o),e.state.activeItem>-1&&e.setState({activeItem:o})},useDragHandle:!0,helperClass:"lzb-gutenberg-repeater-sortable"}):"",wp.element.createElement("div",{className:"lzb-gutenberg-repeater-options"},wp.element.createElement(pe,{isDefault:!0,onClick:function(){c()}},ae("+ Add Row")),h.length&&h.length>1?wp.element.createElement(fe,{text:ae("Toggle all rows")},wp.element.createElement("div",null,wp.element.createElement(he,{checked:-2===this.state.activeItem,onChange:function(){e.setState({activeItem:-2===e.state.activeItem?-1:-2})}}))):"")))}}]),t}());function ve(e,t,n,o){var r,i=!1,l=0;function a(){r&&clearTimeout(r)}function c(){var c=this,s=Date.now()-l,u=arguments;function p(){l=Date.now(),n.apply(c,u)}i||(o&&!r&&p(),a(),void 0===o&&s>e?p():!0!==t&&(r=setTimeout(o?function(){r=void 0}:p,void 0===o?e-s:e)))}return"boolean"!=typeof t&&(o=n,n=t,t=void 0),c.cancel=function(){a(),i=!0},c}var we=n(3),xe=n.n(we);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Oe(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Se(e,t){return(Se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Te=wp.components.Spinner,Ie=wp.element,je=Ie.Component,Pe=Ie.RawHTML,Re=Ie.Fragment,De=wp.i18n,Ne=De.__,Me=De.sprintf,Ae=wp.apiFetch,ze=wp.url.addQueryArgs;function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return ze("lazy-blocks/v1/block-render",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){_e(e,t,n[t])})}return e}({context:"editor",name:e},null!==t?{attributes:t}:{},n))}var Ue=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Oe(this,Ee(t).call(this,e))).state={response:null,previousResponse:null,allowRender:!0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Se(e,t)}(t,je),function(e,t,n){t&&ke(e.prototype,t),n&&ke(e,n)}(t,[{key:"componentDidMount",value:function(){this.isStillMounted=!0,this.fetch(this.props),this.fetch=function(e,t,n){return void 0===n?ve(e,t,!1):ve(e,n,!1!==t)}(500,this.fetch)}},{key:"componentWillUnmount",value:function(){this.isStillMounted=!1}},{key:"componentDidUpdate",value:function(e){this.state.allowRender&&!xe()(e,this.props)&&this.fetch(this.props)}},{key:"fetch",value:function(e){var t=this;if(this.isStillMounted){null!==this.state.response&&this.setState({response:null});var n=e.block,o=e.attributes,r=void 0===o?null:o,i=e.urlQueryArgs,l=Be(n,r,void 0===i?{}:i),a=this.currentFetchRequest=Ae({path:l}).then(function(e){t.isStillMounted&&a===t.currentFetchRequest&&(e&&e.success?t.setState({response:e.response,previousResponse:e.response}):e&&!e.success&&e.error_code&&("lazy_block_invalid"===e.error_code?t.setState({response:null,previousResponse:null}):"lazy_block_no_render_callback"===e.error_code&&t.setState({response:null,previousResponse:null,allowRender:!1})))}).catch(function(e){t.isStillMounted&&a===t.currentFetchRequest&&t.setState({response:{error:!0,response:e}})});return a}}},{key:"render",value:function(){var e=this.state,t=e.response,n=e.previousResponse,o="";if(this.state.allowRender)if(t)if(t.error){o=Me(Ne("Error loading block preview: %s"),t.response)}else o=t.length?wp.element.createElement(Pe,{key:"html"},t):Ne("No results found.");else o=wp.element.createElement(Re,null,n?wp.element.createElement(Pe,{key:"html"},n):"",wp.element.createElement(Te,null));else o="";return wp.element.createElement("div",{className:"lzb-preview-server"},o)}}]),t}();function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Fe=window.lazyblocksGutenberg;Fe&&Fe.blocks&&Fe.blocks.length||(Fe={post_type:"post",blocks:[]});var Ge=wp.element,Xe=Ge.Component,Ye=Ge.Fragment,Ze=wp.components,Je=Ze.PanelBody,Qe=Ze.BaseControl,Ke=Ze.TextControl,$e=Ze.TextareaControl,et=Ze.ToggleControl,tt=Ze.CheckboxControl,nt=Ze.RangeControl,ot=Ze.SelectControl,rt=Ze.ColorIndicator,it=Ze.Dashicon,lt=Ze.IconButton,at=Ze.DatePicker,ct=Ze.TimePicker,st=wp.editor,ut=st.URLInput,pt=st.ColorPalette,ft=st.InspectorControls,ht=st.RichText,dt=st.InnerBlocks,mt=st.PlainText,yt=wp.blocks.registerBlockType,bt=wp.date.__experimentalGetSettings;Fe.blocks.forEach(function(e){var t=function(t){function n(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==We(t)&&"function"!=typeof t?qe(e):t}(this,He(n).apply(this,arguments))).generateUniqueClass=t.generateUniqueClass.bind(qe(qe(t))),t.getControlValue=function(t,n){var o=this.props.attributes[t.name];if(t.child_of&&e.controls[t.child_of]&&n>-1){var r=this.getControlValue(e.controls[t.child_of]);r&&void 0!==r[n]&&void 0!==r[n][t.name]&&(o=r[n][t.name])}if("string"==typeof o&&("repeater"===t.type||"image"===t.type||"gallery"===t.type))try{o=JSON.parse(decodeURI(o))}catch(e){o=[]}return o}.bind(qe(qe(t))),t.onControlChange=t.onControlChange.bind(qe(qe(t))),t.onSelectImages=t.onSelectImages.bind(qe(qe(t))),t.onSelectImage=t.onSelectImage.bind(qe(qe(t))),t.renderControls=t.renderControls.bind(qe(qe(t))),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(n,Xe),function(e,t,n){t&&Le(e.prototype,t),n&&Le(e,n)}(n,[{key:"componentDidMount",value:function(){this.generateUniqueClass()}},{key:"componentDidUpdate",value:function(){this.generateUniqueClass()}},{key:"generateUniqueClass",value:function(){var e=this.props.attributes,t=e.blockId,n=e.blockUniqueClass;t&&!n&&this.props.setAttributes({blockUniqueClass:"".concat(this.props.name.replace("/","-"),"-").concat(t)})}},{key:"onControlChange",value:function(t,n,o){var r=this.props.setAttributes,i=n.name;if(n.child_of&&e.controls[n.child_of]&&o>-1){var l=this.getControlValue(e.controls[n.child_of]);l&&void 0!==l[o]&&(l[o][n.name]=t,t=l),i=(n=e.controls[n.child_of]).name}"number"!==n.type&&"range"!==n.type||(t=parseFloat(t));var a={};a[i]=t,"object"!==We(t)&&!Array.isArray(t)||"repeater"!==n.type&&"image"!==n.type&&"gallery"!==n.type||(a[i]=encodeURI(JSON.stringify(a[i]))),r(a)}},{key:"onSelectImages",value:function(e,t,n){var o=e.map(function(e){return{alt:e.alt||"",title:e.title||"",caption:e.caption||"",id:e.id||"",link:e.link||"",url:e.url||""}});this.onControlChange(o,t,n)}},{key:"onSelectImage",value:function(e,t,n){var o=e?{alt:e.alt||"",title:e.title||"",caption:e.caption||"",id:e.id||"",link:e.link||"",url:e.url||""}:"";this.onControlChange(o,t,n)}},{key:"renderControls",value:function(t){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=[];return Object.keys(e.controls).forEach(function(a){var c=e.controls[a];if(!o&&!c.child_of&&c.type&&"nowhere"!==c.placement&&("both"===c.placement||c.placement===t)||o&&c.child_of===o)switch(c.type){case"text":case"number":case"email":case"password":l.push(wp.element.createElement(Ke,{key:c.name,label:c.label,type:c.type,min:c.min,max:c.max,step:c.step,help:c.help,placeholder:c.placeholder,value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)}}));break;case"range":l.push(wp.element.createElement(nt,{key:c.name,label:c.label,min:c.min,max:c.max,step:c.step,help:c.help,value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)}}));break;case"url":l.push(wp.element.createElement(Qe,{key:c.name,label:c.label,help:c.help},wp.element.createElement("form",{className:"lzb-gutenberg-url",onSubmit:function(e){return e.preventDefault()}},wp.element.createElement(ut,{value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)},autoFocus:!1}),wp.element.createElement(it,{icon:"admin-links"}),wp.element.createElement(lt,{icon:"editor-break",label:"Apply",type:"submit"}))));break;case"textarea":l.push(wp.element.createElement($e,{key:c.name,label:c.label,value:n.getControlValue(c,r),help:c.help,placeholder:c.placeholder,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"rich_text":l.push(wp.element.createElement(Qe,{key:c.name,label:c.label,help:c.help,className:"lzb-gutenberg-rich-text"},wp.element.createElement(ht,{value:n.getControlValue(c,r),format:"string",multiline:"true"===c.multiline&&"p",inlineToolbar:!0,onChange:function(e){n.onControlChange(e,c,r)}})));break;case"code_editor":l.push(wp.element.createElement(Qe,{key:c.name,label:c.label,help:c.help,className:"wp-block-html"},wp.element.createElement(mt,{value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)}})));break;case"inner_blocks":l.push(wp.element.createElement(Qe,{key:c.name,label:c.label},wp.element.createElement(dt,null)));break;case"select":l.push(wp.element.createElement(ot,{key:c.name,label:c.label,options:c.choices,value:n.getControlValue(c,r),help:c.help,onChange:function(e){c.allow_null&&"true"===c.allow_null&&"null"===e&&(e=null),n.onControlChange(e,c,r)}}));break;case"toggle":l.push(wp.element.createElement(et,{key:c.name,label:c.label,checked:!!n.getControlValue(c,r),help:c.help,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"checkbox":l.push(wp.element.createElement(tt,{key:c.name,label:c.label,checked:!!n.getControlValue(c,r),help:c.help,onChange:function(e){n.onControlChange(e,c,r)}}));break;case"image":l.push(wp.element.createElement(A,{key:c.name,label:c.label,value:n.getControlValue(c,r),help:c.help,onChange:function(e){n.onSelectImage(e,c,r)}}));break;case"gallery":l.push(wp.element.createElement(ee,{key:c.name,label:c.label,value:n.getControlValue(c,r),help:c.help,onChange:function(e){n.onSelectImages(e,c,r)}}));break;case"color":l.push(wp.element.createElement(Qe,{key:c.name,label:wp.element.createElement(Ye,null,c.label,wp.element.createElement(rt,{colorValue:n.getControlValue(c,r)})),help:c.help,className:"lzb-gutenberg-color"},wp.element.createElement(pt,{value:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)}})));break;case"date_time":var s=bt(),u=/a(?!\\)/i.test(s.formats.time.toLowerCase().replace(/\\\\/g,"").split("").reverse().join(""));l.push(wp.element.createElement(Qe,{key:c.name,label:c.label,help:c.help},/date/.test(c.date_time_picker)?wp.element.createElement(at,{currentDate:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)},locale:s.l10n.locale}):"",/time/.test(c.date_time_picker)?wp.element.createElement(ct,{currentTime:n.getControlValue(c,r),onChange:function(e){n.onControlChange(e,c,r)},is12Hour:u}):""));break;case"repeater":var p=n.getControlValue(c,r);l.push(wp.element.createElement(ge,{key:c.name,label:c.label,count:p.length,renderRow:function(e){return wp.element.createElement(Ye,null,n.renderControls(t,a,e))},removeRow:function(e){e>-1&&(p.splice(e,1),n.onControlChange(p,c,r))},addRow:function(){p.push({}),n.onControlChange(p,c,r)},resortRow:function(e,t){var o=Object(i.arrayMove)(p,e,t);n.onControlChange(o,c,r)}}))}}),"inspector"===t&&l.length&&(l=wp.element.createElement(Je,null,l)),l}},{key:"render",value:function(){var t=this,n=this.props.className,o=void 0===n?"":n,i=this.props.attributes.blockUniqueClass,l=void 0===i?"":i;o=r()("lazyblock",l,o);var a={};Object.keys(e.controls).forEach(function(n){e.controls[n].child_of||(a[e.controls[n].name]=t.getControlValue(e.controls[n]))});return["lazyblock","className","align","anchor","blockId","blockUniqueClass"].forEach(function(e){a[e]=t.props.attributes[e]}),wp.element.createElement(Ye,null,wp.element.createElement(ft,null,wp.element.createElement("div",{className:"lzb-inspector-controls"},this.renderControls("inspector"))),wp.element.createElement("div",{className:o},wp.element.createElement("div",{className:"lzb-content-title"},e.icon?wp.element.createElement("span",{className:e.icon}):"",wp.element.createElement("span",null,e.title)),wp.element.createElement("div",{className:"lzb-content-controls"},this.renderControls("content")),wp.element.createElement(Ue,{block:e.slug,attributes:a})))}}]),n}();if(e.supports.inserter&&e.condition.length){var n=!0;e.condition.forEach(function(e){e===Fe.post_type&&(n=!1)}),e.supports.inserter=!n}yt(e.slug,{title:e.title,description:e.description,icon:e.icon.replace(/^dashicons dashicons-/,""),category:e.category,keywords:e.keywords,supports:e.supports,lazyblock:!0,edit:t,save:function(){var t=null;return Object.keys(e.controls).forEach(function(n){"inner_blocks"===e.controls[n].type&&(t=wp.element.createElement(dt.Content,null))}),t}})})}]);